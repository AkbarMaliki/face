(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["page-index~21381d4a"],{9261:function(e,t,n){"use strict";n.r(t);var a,r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{attrs:{id:"app"}},[n("video",{staticStyle:{width:"100vw"},attrs:{id:"video",autoplay:"",muted:""},domProps:{muted:!0}}),n("p",{staticClass:"font-semibold text-center p-2"},[e._v("Version 0.4")]),n("button",{attrs:{id:"button"},on:{click:e.test}},[e._v("Send")]),n("div",{staticClass:"row justify-content-center",staticStyle:{position:"absolute",bottom:"5vh",width:"100%"}},[n("div",{staticClass:"col-6"},[n("button",{staticClass:"btn btn-sm btn-style10 btn-block text-xl",attrs:{type:"button"},on:{click:e.startScan}},[e._v(" Scan ")])])])])])},s=[],i=n("1da1"),o=(n("96cf"),n("4160"),n("159b"),n("cfc3"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("d5d6"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("170b"),n("b39a"),n("72f7"),n("d3b7"),n("ace4"),n("3ca3"),n("ddb0"),n("d81d"),n("07ac"),n("4795"),n("75bf")),c=n("2c3c"),u=n("bc3a"),d=n.n(u),l=new c["a"];window.addEventListener("message",(function(e){"capturePort"==e.data&&null!=e.ports[0]&&(a=e.ports[0],a.onmessage=function(e){console.log(e.data)})}),!1);var f={data:function(){return{message:"Hello Vue!"}},methods:{test:function(){a.postMessage("test")},startVideo:function(){var e=document.getElementById("video");navigator.mediaDevices.getUserMedia({video:{facingMode:"user",resizeMode:"true"}}).then((function(t){e.srcObject=t,e.play()}))},startScan:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var n,r,s,c,u,l,f,b,p,g,m,h,w,x,v;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t,n=.6,r=document.getElementById("video"),r,s=o["e"](r),s.style.position="absolute;",c=s,e.next=9,o["f"](c,new o["d"]({inputSize:320})).withFaceLandmarks(!0).withFaceDescriptor();case 9:if(u=e.sent,u){e.next=14;break}f=!1,e.next=20;break;case 14:return b=[new o["c"](u.detection.box.x,u.detection.box.y,u.detection.box.width,u.detection.box.height)],e.next=17,o["g"](c,b);case 17:p=e.sent,0==p.length?f=!1:p.forEach((function(e){f=e.toDataURL()})),l=[new Float32Array(u.descriptor)];case 20:if(!f){e.next=50;break}return e.next=23,d.a.get("./data-wajah.json");case 23:if(g=e.sent,m=g.data,!(m.length>0)){e.next=45;break}return e.next=28,Promise.all(m.map(function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=JSON.parse(t.tensor),!n){e.next=6;break}if(!(n.length>0)){e.next=6;break}return a=[],n.forEach((function(e){a.push(new Float32Array(Object.values(e)))})),e.abrupt("return",new o["b"](JSON.stringify({id_user:t.id_user}),a));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 28:if(h=e.sent,w=new o["a"](h,n),!u){e.next=43;break}if(x=w.findBestMatch(u.descriptor),"unknown"!=x._label){e.next=39;break}if(!l[0]){e.next=37;break}return a.postMessage("false"),console.log(JSON.stringify({message:"wajah tidak dikenali",status:!1,confidence:100-100*x._distance})),e.abrupt("return");case 37:e.next=43;break;case 39:return v=JSON.parse(x.label),a.postMessage(JSON.stringify({message:"Wajah Mirip dengan id user = "+v.id_user,status:!0,duplicate:!0,confidence:100-100*x._distance,id_user:v.id_user})),console.log(JSON.stringify({message:"Wajah Mirip dengan id user = "+v.id_user,status:!0,duplicate:!0,confidence:100-100*x._distance,id_user:v.id_user})),e.abrupt("return");case 43:e.next=48;break;case 45:return a.postMessage("false"),console.log(JSON.stringify({message:"Tidak ada wajah di Database ",status:!1})),e.abrupt("return");case 48:e.next=53;break;case 50:return a.postMessage("false"),console.log(JSON.stringify({message:"Wajah tidak ditemukan",status:!1})),e.abrupt("return");case 53:case"end":return e.stop()}}),e)})))()},loadModel:function(){return Object(i["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t="./model",e.next=3,o["j"](t);case 3:return e.next=5,o["i"](t);case 5:return e.next=7,o["h"](t);case 7:console.log("loading model berhasil ..."),l.loadingOff(),l.alert("loading model berhasil ...","bg-blue-500");case 10:case"end":return e.stop()}}),e)})))()}},mounted:function(){var e=this;l.loadingOn(),this.startVideo(),setTimeout((function(){e.loadModel()}),3e3)}},b=f,p=n("2877"),g=Object(p["a"])(b,r,s,!1,null,null,null);t["default"]=g.exports}}]);
//# sourceMappingURL=page-index~21381d4a.21f8b01e.js.map